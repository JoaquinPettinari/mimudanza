---
import { ARTICLES } from "../../data/articles";
import Layout from "../../layouts/Layout.astro";
import { parseCurrency } from "../../utils/string";
import WhatsAppButton from "../../components/Article/WhatsAppButton";
import ArticleCarousel from "../../components/Carousel/Carousel";

export async function getStaticPaths() {
  return ARTICLES.map((article) => {
    return {
      params: { id: article.id },
      props: { article },
    };
  });
}
const { id } = Astro.params;
const { article } = Astro.props;
---

<Layout title={article.title}>
  <section class="h-full p-5 lg:pt-32 flex flex-col md:flex-row">
    <ArticleCarousel client:load id={id} />
    <div class="p-6 flex flex-col gap-5">
      <a href="/">
        <h3 class="text-gray-500 text-base">Volver</h3>
      </a>
      <h2 class="text-2xl">{article.title}</h2>
      <h3 class="text-xl font-bold">{parseCurrency(article.price)}</h3>
      <h3 class="text-xl">{article.description}</h3>
      <WhatsAppButton
        client:load
        title={article.title}
        id={article.id}
        url={Astro.url}
      />
    </div>
  </section>
</Layout>
